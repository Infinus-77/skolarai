{% extends "base.html" %}

{% block content %}
<div class="text-center">
  <h1>Welcome, {{ user }} 🎉</h1>
  <p class="lead">Find the best India-based <strong>Courses</strong> & <strong>Scholarships</strong></p>
</div>

<hr class="my-4">

<!-- Course Search + Filter -->
<div class="row mb-4">
  <div class="col-md-8">
    <form method="GET" action="{{ url_for('dashboard') }}" class="d-flex">
      <input type="text" name="q" class="form-control me-2"
             placeholder="Search courses..." value="{{ query }}">
      <select name="filter" class="form-select me-2">
        <option value="all" {% if filter_type == 'all' %}selected{% endif %}>All</option>
        <option value="free" {% if filter_type == 'free' %}selected{% endif %}>Free</option>
        <option value="paid" {% if filter_type == 'paid' %}selected{% endif %}>Paid</option>
      </select>
      <button type="submit" class="btn btn-primary">Search</button>
    </form>
  </div>
</div>

<!-- Courses -->
<h2>📚 Courses</h2>
<div class="row mt-3">
  {% for course in courses %}
    <div class="col-md-4 mb-4">
      <div class="card h-100 shadow-sm">
        <div class="card-body">
          <h5 class="card-title">{{ course.title }}</h5>
          <p class="card-text">
            <strong>Provider:</strong> {{ course.provider }} <br>
            <strong>Rating:</strong> ⭐ {{ course.rating }} <br>
            <strong>Price:</strong> {{ course.price }}
          </p>
          <a href="{{ course.url }}" target="_blank" class="btn btn-outline-primary w-100">View Course</a>
        </div>
      </div>
    </div>
  {% else %}
    <p class="text-muted">No courses found.</p>
  {% endfor %}
</div>

<hr class="my-4">

<!-- Scholarships -->
<h2>🎓 Scholarships (India)</h2>
<div class="row mt-3">
  {% for s in scholarships %}
    <div class="col-md-4 mb-4">
      <div class="card h-100 shadow-sm">
        <div class="card-body">
          <h5 class="card-title">{{ s.title }}</h5>
          <p class="card-text">
            <strong>Provider:</strong> {{ s.provider }} <br>
            <strong>Eligibility:</strong> {{ s.eligibility }} <br>
            <strong>Deadline:</strong> {{ s.deadline }}
          </p>
          <a href="{{ s.url }}" target="_blank" class="btn btn-outline-success w-100">View Details</a>
        </div>
      </div>
    </div>
  {% else %}
    <p class="text-muted">No scholarships found.</p>
  {% endfor %}
</div>
{% endblock %}
